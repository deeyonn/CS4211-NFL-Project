/* 

Field dimensions: 53.333 yards by 120 yards
Goal dimensions: 18.6 feet wide, approximately 6 yards

Note: The yardage numbers in the diagram are for visualization purposes only;
the actual representation of an American Football field varies slightly.

                  score a fieldgoal
                           |
                           v
+----------------------#------#------------------------+
|                                                      |  
|                                                      |  
+----100----------=------------------=-----------100---+   <- score a touchdown after 100 yards
|                 =                  =                 |
+----90-----------=------------------=-----------90----+
|                 =                  =                 |
+----80-----------=------------------=-----------80----+
|                 =                  =                 |
+----70-----------=------------------=-----------70----+
|                 =                  =                 |
+----60-----------=------------------=-----------60----+
|                 =                  =                 |
+----50-----------=------------------=-----------50----+
|                 =                  =                 |
+----40-----------=------------------=-----------40----+
|                 =                  =                 |
+----30-----------=------------------=-----------30----+
|                 =                  =                 |
+----20-----------=----start here----=-----------20----+
|                 =                  =                 |
+----10-----------=------------------=-----------10----+
|                 =                  =                 |
+----0------------=------------------=-----------0-----+
|                       Attacking                      |
|                         Team                         |
+-----------------------#------#-----------------------+

*/

//---- Model Setup ----//

// The current down. The attacking team starts with 1st down.
var down = 1;

// Starting position for the attacking team
var pos = 20;

// Indicate whether a fieldgoal is scored
var fieldgoal = 0

/* The condition to check the probability of the attacking team using up all 4
downs without gaining a first down or has reached the last bin. */
#define GAME_OVER down > 4 || YARD_100;

// Attacking team can score two types of goals namely the fieldgoal and touchdown
#define SCORE_FIELDGOAL fieldgoal == 1
#define SCORE_TOUCHDOWN pos >= 100

//---- End Model Setup ----//

//---- Probabilities Setup ----//

/* 
For this model, we have two types of probabilities: 
1. probability of choosing a play in the form of x_y_z
2. probability of the play advancing d yards in the form of x_y_z_d
where
x: The zone of the field the attacking team is in. (100 yards split into x zones)
y: The down number.
z: The play. run, pass, punt, fieldgoal, turnover.
d: The number of yards a play managed to advance.
*/#define 1_1st_run 185;
#define 1_1st_pass 184;
#define 1_1st_punt 0;
#define 1_1st_field_goal 2;
#define 1_1st_turnover 9;
#define 1_2nd_run 104;
#define 1_2nd_pass 194;
#define 1_2nd_punt 0;
#define 1_2nd_field_goal 1;
#define 1_2nd_turnover 4;
#define 1_3rd_run 40;
#define 1_3rd_pass 124;
#define 1_3rd_punt 0;
#define 1_3rd_field_goal 1;
#define 1_3rd_turnover 7;
#define 1_4th_run 8;
#define 1_4th_pass 10;
#define 1_4th_punt 0;
#define 1_4th_field_goal 57;
#define 1_4th_turnover 5;
#define 2_1st_run 190;
#define 2_1st_pass 249;
#define 2_1st_punt 0;
#define 2_1st_field_goal 2;
#define 2_1st_turnover 8;
#define 2_2nd_run 114;
#define 2_2nd_pass 216;
#define 2_2nd_punt 0;
#define 2_2nd_field_goal 2;
#define 2_2nd_turnover 10;
#define 2_3rd_run 44;
#define 2_3rd_pass 149;
#define 2_3rd_punt 0;
#define 2_3rd_field_goal 3;
#define 2_3rd_turnover 5;
#define 2_4th_run 4;
#define 2_4th_pass 16;
#define 2_4th_punt 27;
#define 2_4th_field_goal 26;
#define 2_4th_turnover 8;
#define 3_1st_run 324;
#define 3_1st_pass 390;
#define 3_1st_punt 0;
#define 3_1st_field_goal 0;
#define 3_1st_turnover 5;
#define 3_2nd_run 169;
#define 3_2nd_pass 347;
#define 3_2nd_punt 0;
#define 3_2nd_field_goal 0;
#define 3_2nd_turnover 6;
#define 3_3rd_run 59;
#define 3_3rd_pass 197;
#define 3_3rd_punt 0;
#define 3_3rd_field_goal 0;
#define 3_3rd_turnover 6;
#define 3_4th_run 6;
#define 3_4th_pass 4;
#define 3_4th_punt 106;
#define 3_4th_field_goal 0;
#define 3_4th_turnover 1;
#define 4_1st_run 111;
#define 4_1st_pass 118;
#define 4_1st_punt 0;
#define 4_1st_field_goal 0;
#define 4_1st_turnover 3;
#define 4_2nd_run 30;
#define 4_2nd_pass 102;
#define 4_2nd_punt 0;
#define 4_2nd_field_goal 0;
#define 4_2nd_turnover 0;
#define 4_3rd_run 9;
#define 4_3rd_pass 49;
#define 4_3rd_punt 0;
#define 4_3rd_field_goal 0;
#define 4_3rd_turnover 2;
#define 4_4th_run 0;
#define 4_4th_pass 1;
#define 4_4th_punt 36;
#define 4_4th_field_goal 0;
#define 4_4th_turnover 0;


#define 0_1st_run_0 0.069578;
#define 0_1st_run_4 0.462429;
#define 0_1st_run_8 0.293121;
#define 0_1st_run_12 0.117705;
#define 0_1st_run_16 0.039842;
#define 0_1st_run_20 0.017325;
#define 0_1st_pass_0 0.049365;
#define 0_1st_pass_4 0.403239;
#define 0_1st_pass_8 0.312363;
#define 0_1st_pass_12 0.147426;
#define 0_1st_pass_16 0.057530;
#define 0_1st_pass_20 0.030078;
#define 0_2nd_run_0 0.254273;
#define 0_2nd_run_4 0.598500;
#define 0_2nd_run_8 0.123480;
#define 0_2nd_run_12 0.020175;
#define 0_2nd_run_16 0.003054;
#define 0_2nd_run_20 0.000518;
#define 0_2nd_pass_0 0.180029;
#define 0_2nd_pass_4 0.591386;
#define 0_2nd_pass_8 0.179050;
#define 0_2nd_pass_12 0.039759;
#define 0_2nd_pass_16 0.007940;
#define 0_2nd_pass_20 0.001836;
#define 0_3rd_run_0 0.060451;
#define 0_3rd_run_4 0.438222;
#define 0_3rd_run_8 0.302482;
#define 0_3rd_run_12 0.130088;
#define 0_3rd_run_16 0.046778;
#define 0_3rd_run_20 0.021979;
#define 0_3rd_pass_0 0.120285;
#define 0_3rd_pass_4 0.548858;
#define 0_3rd_pass_8 0.237178;
#define 0_3rd_pass_12 0.070021;
#define 0_3rd_pass_16 0.018044;
#define 0_3rd_pass_20 0.005613;
#define 0_4th_run_0 0.174648;
#define 0_4th_run_4 0.589237;
#define 0_4th_run_8 0.183779;
#define 0_4th_run_12 0.041790;
#define 0_4th_run_16 0.008526;
#define 0_4th_run_20 0.002020;
#define 0_4th_pass_0 0.064682;
#define 0_4th_pass_4 0.449900;
#define 0_4th_pass_8 0.298238;
#define 0_4th_pass_12 0.124153;
#define 0_4th_pass_16 0.043382;
#define 0_4th_pass_20 0.019645;
#define 1_1st_run_0 0.093933;
#define 1_1st_run_4 0.512211;
#define 1_1st_run_8 0.266189;
#define 1_1st_run_12 0.091120;
#define 1_1st_run_16 0.026782;
#define 1_1st_run_20 0.009766;
#define 1_1st_pass_0 0.111116;
#define 1_1st_pass_4 0.537729;
#define 1_1st_pass_8 0.247112;
#define 1_1st_pass_12 0.076642;
#define 1_1st_pass_16 0.020636;
#define 1_1st_pass_20 0.006766;
#define 1_2nd_run_0 0.106639;
#define 1_2nd_run_4 0.531705;
#define 1_2nd_run_8 0.252034;
#define 1_2nd_run_12 0.080135;
#define 1_2nd_run_16 0.022059;
#define 1_2nd_run_20 0.007427;
#define 1_2nd_pass_0 0.039291;
#define 1_2nd_pass_4 0.364522;
#define 1_2nd_pass_8 0.318616;
#define 1_2nd_pass_12 0.165781;
#define 1_2nd_pass_16 0.070469;
#define 1_2nd_pass_20 0.041320;
#define 1_3rd_run_0 0.146081;
#define 1_3rd_run_4 0.572770;
#define 1_3rd_run_8 0.210582;
#define 1_3rd_run_12 0.054623;
#define 1_3rd_run_16 0.012540;
#define 1_3rd_run_20 0.003404;
#define 1_3rd_pass_0 0.066995;
#define 1_3rd_pass_4 0.455943;
#define 1_3rd_pass_8 0.295844;
#define 1_3rd_pass_12 0.121054;
#define 1_3rd_pass_16 0.041661;
#define 1_3rd_pass_20 0.018503;
#define 1_4th_run_0 0.132210;
#define 1_4th_run_4 0.561154;
#define 1_4th_run_8 0.224617;
#define 1_4th_run_12 0.062367;
#define 1_4th_run_16 0.015216;
#define 1_4th_run_20 0.004436;
#define 1_4th_pass_0 0.116650;
#define 1_4th_pass_4 0.544633;
#define 1_4th_pass_8 0.241090;
#define 1_4th_pass_12 0.072564;
#define 1_4th_pass_16 0.019023;
#define 1_4th_pass_20 0.006040;
#define 2_1st_run_0 0.094906;
#define 2_1st_run_4 0.513839;
#define 2_1st_run_8 0.265099;
#define 2_1st_run_12 0.090218;
#define 2_1st_run_16 0.026379;
#define 2_1st_run_20 0.009558;
#define 2_1st_pass_0 0.091224;
#define 2_1st_pass_4 0.507548;
#define 2_1st_pass_8 0.269226;
#define 2_1st_pass_12 0.093688;
#define 2_1st_pass_16 0.027941;
#define 2_1st_pass_20 0.010373;
#define 2_2nd_run_0 0.047938;
#define 2_2nd_run_4 0.398206;
#define 2_2nd_run_8 0.313448;
#define 2_2nd_run_12 0.149865;
#define 2_2nd_run_16 0.059149;
#define 2_2nd_run_20 0.031393;
#define 2_2nd_pass_0 0.055370;
#define 2_2nd_pass_4 0.423038;
#define 2_2nd_pass_8 0.307280;
#define 2_2nd_pass_12 0.137695;
#define 2_2nd_pass_16 0.051337;
#define 2_2nd_pass_20 0.025280;
#define 2_3rd_run_0 0.090345;
#define 2_3rd_run_4 0.505995;
#define 2_3rd_run_8 0.270211;
#define 2_3rd_run_12 0.094540;
#define 2_3rd_run_16 0.028330;
#define 2_3rd_run_20 0.010579;
#define 2_3rd_pass_0 0.063071;
#define 2_3rd_pass_4 0.445550;
#define 2_3rd_pass_8 0.299877;
#define 2_3rd_pass_12 0.126372;
#define 2_3rd_pass_16 0.044636;
#define 2_3rd_pass_20 0.020494;
#define 2_4th_run_0 0.076656;
#define 2_4th_run_4 0.478886;
#define 2_4th_run_8 0.285459;
#define 2_4th_run_12 0.109099;
#define 2_4th_run_16 0.035352;
#define 2_4th_run_20 0.014549;
#define 2_4th_pass_0 0.063121;
#define 2_4th_pass_4 0.445685;
#define 2_4th_pass_8 0.299827;
#define 2_4th_pass_12 0.126303;
#define 2_4th_pass_16 0.044597;
#define 2_4th_pass_20 0.020467;
#define 3_1st_run_0 0.144161;
#define 3_1st_run_4 0.571319;
#define 3_1st_run_8 0.212486;
#define 3_1st_run_12 0.055628;
#define 3_1st_run_16 0.012876;
#define 3_1st_run_20 0.003530;
#define 3_1st_pass_0 0.055455;
#define 3_1st_pass_4 0.423302;
#define 3_1st_pass_8 0.307204;
#define 3_1st_pass_12 0.137564;
#define 3_1st_pass_16 0.051257;
#define 3_1st_pass_20 0.025220;
#define 3_2nd_run_0 0.117930;
#define 3_2nd_run_4 0.546148;
#define 3_2nd_run_8 0.239708;
#define 3_2nd_run_12 0.071657;
#define 3_2nd_run_16 0.018671;
#define 3_2nd_run_20 0.005886;
#define 3_2nd_pass_0 0.132047;
#define 3_2nd_pass_4 0.561001;
#define 3_2nd_pass_8 0.224786;
#define 3_2nd_pass_12 0.062465;
#define 3_2nd_pass_16 0.015251;
#define 3_2nd_pass_20 0.004450;
#define 3_3rd_run_0 0.141897;
#define 3_3rd_run_4 0.569545;
#define 3_3rd_run_8 0.214748;
#define 3_3rd_run_12 0.056840;
#define 3_3rd_run_16 0.013287;
#define 3_3rd_run_20 0.003684;
#define 3_3rd_pass_0 0.039762;
#define 3_3rd_pass_4 0.366514;
#define 3_3rd_pass_8 0.318412;
#define 3_3rd_pass_12 0.164861;
#define 3_3rd_pass_16 0.069776;
#define 3_3rd_pass_20 0.040675;
#define 3_4th_run_0 0.120162;
#define 3_4th_run_4 0.548718;
#define 3_4th_run_8 0.237311;
#define 3_4th_run_12 0.070106;
#define 3_4th_run_16 0.018076;
#define 3_4th_run_20 0.005627;
#define 3_4th_pass_0 0.155777;
#define 3_4th_pass_4 0.579392;
#define 3_4th_pass_8 0.201163;
#define 3_4th_pass_12 0.049842;
#define 3_4th_pass_16 0.010982;
#define 3_4th_pass_20 0.002843;

//---- End Probabilities Setup ----//

GuardedDown = [!GAME_OVER]Go->ExecuteDown;

// Guarded process that only runs the next down if the attacking team has not completed all 4.
NextPlay = GuardedDown[][GAME_OVER] Skip;

// Function to simulate a single down. Only executes if the attacking team has not used all 4 downs.
ExecuteDown = case {
	down == 1: case {
		zone == 1: pcase {
			1_1st_run: pcase {
				1_1st_run_0: run{ down++; pos = pos + 0 } -> NextPlay
				1_1st_run_4: run{ down++; pos = pos + 4 } -> NextPlay
				1_1st_run_8: run{ down++; pos = pos + 8 } -> NextPlay
				1_1st_run_12: run{ down = 1; pos = pos + 12 } -> NextPlay
				1_1st_run_16: run{ down = 1; pos = pos + 16 } -> NextPlay
				1_1st_run_20: run{ down = 1; pos = pos + 20 } -> NextPlay
			}
			1_1st_pass: pcase {
				1_1st_pass_0: pass{ down++; pos = pos + 0 } -> NextPlay
				1_1st_pass_4: pass{ down++; pos = pos + 4 } -> NextPlay
				1_1st_pass_8: pass{ down++; pos = pos + 8 } -> NextPlay
				1_1st_pass_12: pass{ down = 1; pos = pos + 12 } -> NextPlay
				1_1st_pass_16: pass{ down = 1; pos = pos + 16 } -> NextPlay
				1_1st_pass_20: pass{ down = 1; pos = pos + 20 } -> NextPlay
			}
			1_1st_punt: punt{down = 5;} -> NextPlay // Game over
			1_1st_fieldgoal: fieldgoal{down = 5;} -> NextPlay // Game over
			1_1st_turnover: turnover{down = 5;} -> NextPlay // Game over
		}
		zone == 2: pcase {
			2_1st_run: pcase {
				2_1st_run_0: run{ down++; pos = pos + 0 } -> NextPlay
				2_1st_run_4: run{ down++; pos = pos + 4 } -> NextPlay
				2_1st_run_8: run{ down++; pos = pos + 8 } -> NextPlay
				2_1st_run_12: run{ down = 1; pos = pos + 12 } -> NextPlay
				2_1st_run_16: run{ down = 1; pos = pos + 16 } -> NextPlay
				2_1st_run_20: run{ down = 1; pos = pos + 20 } -> NextPlay
			}
			2_1st_pass: pcase {
				2_1st_pass_0: pass{ down++; pos = pos + 0 } -> NextPlay
				2_1st_pass_4: pass{ down++; pos = pos + 4 } -> NextPlay
				2_1st_pass_8: pass{ down++; pos = pos + 8 } -> NextPlay
				2_1st_pass_12: pass{ down = 1; pos = pos + 12 } -> NextPlay
				2_1st_pass_16: pass{ down = 1; pos = pos + 16 } -> NextPlay
				2_1st_pass_20: pass{ down = 1; pos = pos + 20 } -> NextPlay
			}
			2_1st_punt: punt{down = 5;} -> NextPlay // Game over
			2_1st_fieldgoal: fieldgoal{down = 5;} -> NextPlay // Game over
			2_1st_turnover: turnover{down = 5;} -> NextPlay // Game over
		}
		zone == 3: pcase {
			3_1st_run: pcase {
				3_1st_run_0: run{ down++; pos = pos + 0 } -> NextPlay
				3_1st_run_4: run{ down++; pos = pos + 4 } -> NextPlay
				3_1st_run_8: run{ down++; pos = pos + 8 } -> NextPlay
				3_1st_run_12: run{ down = 1; pos = pos + 12 } -> NextPlay
				3_1st_run_16: run{ down = 1; pos = pos + 16 } -> NextPlay
				3_1st_run_20: run{ down = 1; pos = pos + 20 } -> NextPlay
			}
			3_1st_pass: pcase {
				3_1st_pass_0: pass{ down++; pos = pos + 0 } -> NextPlay
				3_1st_pass_4: pass{ down++; pos = pos + 4 } -> NextPlay
				3_1st_pass_8: pass{ down++; pos = pos + 8 } -> NextPlay
				3_1st_pass_12: pass{ down = 1; pos = pos + 12 } -> NextPlay
				3_1st_pass_16: pass{ down = 1; pos = pos + 16 } -> NextPlay
				3_1st_pass_20: pass{ down = 1; pos = pos + 20 } -> NextPlay
			}
			3_1st_punt: punt{down = 5;} -> NextPlay // Game over
			3_1st_fieldgoal: fieldgoal{down = 5;} -> NextPlay // Game over
			3_1st_turnover: turnover{down = 5;} -> NextPlay // Game over
		}
		zone == 4: pcase {
			4_1st_run: pcase {
				4_1st_run_0: run{ down++; pos = pos + 0 } -> NextPlay
				4_1st_run_4: run{ down++; pos = pos + 4 } -> NextPlay
				4_1st_run_8: run{ down++; pos = pos + 8 } -> NextPlay
				4_1st_run_12: run{ down = 1; pos = pos + 12 } -> NextPlay
				4_1st_run_16: run{ down = 1; pos = pos + 16 } -> NextPlay
				4_1st_run_20: run{ down = 1; pos = pos + 20 } -> NextPlay
			}
			4_1st_pass: pcase {
				4_1st_pass_0: pass{ down++; pos = pos + 0 } -> NextPlay
				4_1st_pass_4: pass{ down++; pos = pos + 4 } -> NextPlay
				4_1st_pass_8: pass{ down++; pos = pos + 8 } -> NextPlay
				4_1st_pass_12: pass{ down = 1; pos = pos + 12 } -> NextPlay
				4_1st_pass_16: pass{ down = 1; pos = pos + 16 } -> NextPlay
				4_1st_pass_20: pass{ down = 1; pos = pos + 20 } -> NextPlay
			}
			4_1st_punt: punt{down = 5;} -> NextPlay // Game over
			4_1st_fieldgoal: fieldgoal{down = 5;} -> NextPlay // Game over
			4_1st_turnover: turnover{down = 5;} -> NextPlay // Game over
		}
	}
	down == 2: case {
		zone == 1: pcase {
			1_2nd_run: pcase {
				1_2nd_run_0: run{ down++; pos = pos + 0 } -> NextPlay
				1_2nd_run_4: run{ down++; pos = pos + 4 } -> NextPlay
				1_2nd_run_8: run{ down++; pos = pos + 8 } -> NextPlay
				1_2nd_run_12: run{ down = 1; pos = pos + 12 } -> NextPlay
				1_2nd_run_16: run{ down = 1; pos = pos + 16 } -> NextPlay
				1_2nd_run_20: run{ down = 1; pos = pos + 20 } -> NextPlay
			}
			1_2nd_pass: pcase {
				1_2nd_pass_0: pass{ down++; pos = pos + 0 } -> NextPlay
				1_2nd_pass_4: pass{ down++; pos = pos + 4 } -> NextPlay
				1_2nd_pass_8: pass{ down++; pos = pos + 8 } -> NextPlay
				1_2nd_pass_12: pass{ down = 1; pos = pos + 12 } -> NextPlay
				1_2nd_pass_16: pass{ down = 1; pos = pos + 16 } -> NextPlay
				1_2nd_pass_20: pass{ down = 1; pos = pos + 20 } -> NextPlay
			}
			1_2nd_punt: punt{down = 5;} -> NextPlay // Game over
			1_2nd_fieldgoal: fieldgoal{down = 5;} -> NextPlay // Game over
			1_2nd_turnover: turnover{down = 5;} -> NextPlay // Game over
		}
		zone == 2: pcase {
			2_2nd_run: pcase {
				2_2nd_run_0: run{ down++; pos = pos + 0 } -> NextPlay
				2_2nd_run_4: run{ down++; pos = pos + 4 } -> NextPlay
				2_2nd_run_8: run{ down++; pos = pos + 8 } -> NextPlay
				2_2nd_run_12: run{ down = 1; pos = pos + 12 } -> NextPlay
				2_2nd_run_16: run{ down = 1; pos = pos + 16 } -> NextPlay
				2_2nd_run_20: run{ down = 1; pos = pos + 20 } -> NextPlay
			}
			2_2nd_pass: pcase {
				2_2nd_pass_0: pass{ down++; pos = pos + 0 } -> NextPlay
				2_2nd_pass_4: pass{ down++; pos = pos + 4 } -> NextPlay
				2_2nd_pass_8: pass{ down++; pos = pos + 8 } -> NextPlay
				2_2nd_pass_12: pass{ down = 1; pos = pos + 12 } -> NextPlay
				2_2nd_pass_16: pass{ down = 1; pos = pos + 16 } -> NextPlay
				2_2nd_pass_20: pass{ down = 1; pos = pos + 20 } -> NextPlay
			}
			2_2nd_punt: punt{down = 5;} -> NextPlay // Game over
			2_2nd_fieldgoal: fieldgoal{down = 5;} -> NextPlay // Game over
			2_2nd_turnover: turnover{down = 5;} -> NextPlay // Game over
		}
		zone == 3: pcase {
			3_2nd_run: pcase {
				3_2nd_run_0: run{ down++; pos = pos + 0 } -> NextPlay
				3_2nd_run_4: run{ down++; pos = pos + 4 } -> NextPlay
				3_2nd_run_8: run{ down++; pos = pos + 8 } -> NextPlay
				3_2nd_run_12: run{ down = 1; pos = pos + 12 } -> NextPlay
				3_2nd_run_16: run{ down = 1; pos = pos + 16 } -> NextPlay
				3_2nd_run_20: run{ down = 1; pos = pos + 20 } -> NextPlay
			}
			3_2nd_pass: pcase {
				3_2nd_pass_0: pass{ down++; pos = pos + 0 } -> NextPlay
				3_2nd_pass_4: pass{ down++; pos = pos + 4 } -> NextPlay
				3_2nd_pass_8: pass{ down++; pos = pos + 8 } -> NextPlay
				3_2nd_pass_12: pass{ down = 1; pos = pos + 12 } -> NextPlay
				3_2nd_pass_16: pass{ down = 1; pos = pos + 16 } -> NextPlay
				3_2nd_pass_20: pass{ down = 1; pos = pos + 20 } -> NextPlay
			}
			3_2nd_punt: punt{down = 5;} -> NextPlay // Game over
			3_2nd_fieldgoal: fieldgoal{down = 5;} -> NextPlay // Game over
			3_2nd_turnover: turnover{down = 5;} -> NextPlay // Game over
		}
		zone == 4: pcase {
			4_2nd_run: pcase {
				4_2nd_run_0: run{ down++; pos = pos + 0 } -> NextPlay
				4_2nd_run_4: run{ down++; pos = pos + 4 } -> NextPlay
				4_2nd_run_8: run{ down++; pos = pos + 8 } -> NextPlay
				4_2nd_run_12: run{ down = 1; pos = pos + 12 } -> NextPlay
				4_2nd_run_16: run{ down = 1; pos = pos + 16 } -> NextPlay
				4_2nd_run_20: run{ down = 1; pos = pos + 20 } -> NextPlay
			}
			4_2nd_pass: pcase {
				4_2nd_pass_0: pass{ down++; pos = pos + 0 } -> NextPlay
				4_2nd_pass_4: pass{ down++; pos = pos + 4 } -> NextPlay
				4_2nd_pass_8: pass{ down++; pos = pos + 8 } -> NextPlay
				4_2nd_pass_12: pass{ down = 1; pos = pos + 12 } -> NextPlay
				4_2nd_pass_16: pass{ down = 1; pos = pos + 16 } -> NextPlay
				4_2nd_pass_20: pass{ down = 1; pos = pos + 20 } -> NextPlay
			}
			4_2nd_punt: punt{down = 5;} -> NextPlay // Game over
			4_2nd_fieldgoal: fieldgoal{down = 5;} -> NextPlay // Game over
			4_2nd_turnover: turnover{down = 5;} -> NextPlay // Game over
		}
	}
	down == 3: case {
		zone == 1: pcase {
			1_3rd_run: pcase {
				1_3rd_run_0: run{ down++; pos = pos + 0 } -> NextPlay
				1_3rd_run_4: run{ down++; pos = pos + 4 } -> NextPlay
				1_3rd_run_8: run{ down++; pos = pos + 8 } -> NextPlay
				1_3rd_run_12: run{ down = 1; pos = pos + 12 } -> NextPlay
				1_3rd_run_16: run{ down = 1; pos = pos + 16 } -> NextPlay
				1_3rd_run_20: run{ down = 1; pos = pos + 20 } -> NextPlay
			}
			1_3rd_pass: pcase {
				1_3rd_pass_0: pass{ down++; pos = pos + 0 } -> NextPlay
				1_3rd_pass_4: pass{ down++; pos = pos + 4 } -> NextPlay
				1_3rd_pass_8: pass{ down++; pos = pos + 8 } -> NextPlay
				1_3rd_pass_12: pass{ down = 1; pos = pos + 12 } -> NextPlay
				1_3rd_pass_16: pass{ down = 1; pos = pos + 16 } -> NextPlay
				1_3rd_pass_20: pass{ down = 1; pos = pos + 20 } -> NextPlay
			}
			1_3rd_punt: punt{down = 5;} -> NextPlay // Game over
			1_3rd_fieldgoal: fieldgoal{down = 5;} -> NextPlay // Game over
			1_3rd_turnover: turnover{down = 5;} -> NextPlay // Game over
		}
		zone == 2: pcase {
			2_3rd_run: pcase {
				2_3rd_run_0: run{ down++; pos = pos + 0 } -> NextPlay
				2_3rd_run_4: run{ down++; pos = pos + 4 } -> NextPlay
				2_3rd_run_8: run{ down++; pos = pos + 8 } -> NextPlay
				2_3rd_run_12: run{ down = 1; pos = pos + 12 } -> NextPlay
				2_3rd_run_16: run{ down = 1; pos = pos + 16 } -> NextPlay
				2_3rd_run_20: run{ down = 1; pos = pos + 20 } -> NextPlay
			}
			2_3rd_pass: pcase {
				2_3rd_pass_0: pass{ down++; pos = pos + 0 } -> NextPlay
				2_3rd_pass_4: pass{ down++; pos = pos + 4 } -> NextPlay
				2_3rd_pass_8: pass{ down++; pos = pos + 8 } -> NextPlay
				2_3rd_pass_12: pass{ down = 1; pos = pos + 12 } -> NextPlay
				2_3rd_pass_16: pass{ down = 1; pos = pos + 16 } -> NextPlay
				2_3rd_pass_20: pass{ down = 1; pos = pos + 20 } -> NextPlay
			}
			2_3rd_punt: punt{down = 5;} -> NextPlay // Game over
			2_3rd_fieldgoal: fieldgoal{down = 5;} -> NextPlay // Game over
			2_3rd_turnover: turnover{down = 5;} -> NextPlay // Game over
		}
		zone == 3: pcase {
			3_3rd_run: pcase {
				3_3rd_run_0: run{ down++; pos = pos + 0 } -> NextPlay
				3_3rd_run_4: run{ down++; pos = pos + 4 } -> NextPlay
				3_3rd_run_8: run{ down++; pos = pos + 8 } -> NextPlay
				3_3rd_run_12: run{ down = 1; pos = pos + 12 } -> NextPlay
				3_3rd_run_16: run{ down = 1; pos = pos + 16 } -> NextPlay
				3_3rd_run_20: run{ down = 1; pos = pos + 20 } -> NextPlay
			}
			3_3rd_pass: pcase {
				3_3rd_pass_0: pass{ down++; pos = pos + 0 } -> NextPlay
				3_3rd_pass_4: pass{ down++; pos = pos + 4 } -> NextPlay
				3_3rd_pass_8: pass{ down++; pos = pos + 8 } -> NextPlay
				3_3rd_pass_12: pass{ down = 1; pos = pos + 12 } -> NextPlay
				3_3rd_pass_16: pass{ down = 1; pos = pos + 16 } -> NextPlay
				3_3rd_pass_20: pass{ down = 1; pos = pos + 20 } -> NextPlay
			}
			3_3rd_punt: punt{down = 5;} -> NextPlay // Game over
			3_3rd_fieldgoal: fieldgoal{down = 5;} -> NextPlay // Game over
			3_3rd_turnover: turnover{down = 5;} -> NextPlay // Game over
		}
		zone == 4: pcase {
			4_3rd_run: pcase {
				4_3rd_run_0: run{ down++; pos = pos + 0 } -> NextPlay
				4_3rd_run_4: run{ down++; pos = pos + 4 } -> NextPlay
				4_3rd_run_8: run{ down++; pos = pos + 8 } -> NextPlay
				4_3rd_run_12: run{ down = 1; pos = pos + 12 } -> NextPlay
				4_3rd_run_16: run{ down = 1; pos = pos + 16 } -> NextPlay
				4_3rd_run_20: run{ down = 1; pos = pos + 20 } -> NextPlay
			}
			4_3rd_pass: pcase {
				4_3rd_pass_0: pass{ down++; pos = pos + 0 } -> NextPlay
				4_3rd_pass_4: pass{ down++; pos = pos + 4 } -> NextPlay
				4_3rd_pass_8: pass{ down++; pos = pos + 8 } -> NextPlay
				4_3rd_pass_12: pass{ down = 1; pos = pos + 12 } -> NextPlay
				4_3rd_pass_16: pass{ down = 1; pos = pos + 16 } -> NextPlay
				4_3rd_pass_20: pass{ down = 1; pos = pos + 20 } -> NextPlay
			}
			4_3rd_punt: punt{down = 5;} -> NextPlay // Game over
			4_3rd_fieldgoal: fieldgoal{down = 5;} -> NextPlay // Game over
			4_3rd_turnover: turnover{down = 5;} -> NextPlay // Game over
		}
	}
	down == 4: case {
		zone == 1: pcase {
			1_4th_run: pcase {
				1_4th_run_0: run{ down++; pos = pos + 0 } -> NextPlay
				1_4th_run_4: run{ down++; pos = pos + 4 } -> NextPlay
				1_4th_run_8: run{ down++; pos = pos + 8 } -> NextPlay
				1_4th_run_12: run{ down = 1; pos = pos + 12 } -> NextPlay
				1_4th_run_16: run{ down = 1; pos = pos + 16 } -> NextPlay
				1_4th_run_20: run{ down = 1; pos = pos + 20 } -> NextPlay
			}
			1_4th_pass: pcase {
				1_4th_pass_0: pass{ down++; pos = pos + 0 } -> NextPlay
				1_4th_pass_4: pass{ down++; pos = pos + 4 } -> NextPlay
				1_4th_pass_8: pass{ down++; pos = pos + 8 } -> NextPlay
				1_4th_pass_12: pass{ down = 1; pos = pos + 12 } -> NextPlay
				1_4th_pass_16: pass{ down = 1; pos = pos + 16 } -> NextPlay
				1_4th_pass_20: pass{ down = 1; pos = pos + 20 } -> NextPlay
			}
			1_4th_punt: punt{down = 5;} -> NextPlay // Game over
			1_4th_fieldgoal: fieldgoal{down = 5;} -> NextPlay // Game over
			1_4th_turnover: turnover{down = 5;} -> NextPlay // Game over
		}
		zone == 2: pcase {
			2_4th_run: pcase {
				2_4th_run_0: run{ down++; pos = pos + 0 } -> NextPlay
				2_4th_run_4: run{ down++; pos = pos + 4 } -> NextPlay
				2_4th_run_8: run{ down++; pos = pos + 8 } -> NextPlay
				2_4th_run_12: run{ down = 1; pos = pos + 12 } -> NextPlay
				2_4th_run_16: run{ down = 1; pos = pos + 16 } -> NextPlay
				2_4th_run_20: run{ down = 1; pos = pos + 20 } -> NextPlay
			}
			2_4th_pass: pcase {
				2_4th_pass_0: pass{ down++; pos = pos + 0 } -> NextPlay
				2_4th_pass_4: pass{ down++; pos = pos + 4 } -> NextPlay
				2_4th_pass_8: pass{ down++; pos = pos + 8 } -> NextPlay
				2_4th_pass_12: pass{ down = 1; pos = pos + 12 } -> NextPlay
				2_4th_pass_16: pass{ down = 1; pos = pos + 16 } -> NextPlay
				2_4th_pass_20: pass{ down = 1; pos = pos + 20 } -> NextPlay
			}
			2_4th_punt: punt{down = 5;} -> NextPlay // Game over
			2_4th_fieldgoal: fieldgoal{down = 5;} -> NextPlay // Game over
			2_4th_turnover: turnover{down = 5;} -> NextPlay // Game over
		}
		zone == 3: pcase {
			3_4th_run: pcase {
				3_4th_run_0: run{ down++; pos = pos + 0 } -> NextPlay
				3_4th_run_4: run{ down++; pos = pos + 4 } -> NextPlay
				3_4th_run_8: run{ down++; pos = pos + 8 } -> NextPlay
				3_4th_run_12: run{ down = 1; pos = pos + 12 } -> NextPlay
				3_4th_run_16: run{ down = 1; pos = pos + 16 } -> NextPlay
				3_4th_run_20: run{ down = 1; pos = pos + 20 } -> NextPlay
			}
			3_4th_pass: pcase {
				3_4th_pass_0: pass{ down++; pos = pos + 0 } -> NextPlay
				3_4th_pass_4: pass{ down++; pos = pos + 4 } -> NextPlay
				3_4th_pass_8: pass{ down++; pos = pos + 8 } -> NextPlay
				3_4th_pass_12: pass{ down = 1; pos = pos + 12 } -> NextPlay
				3_4th_pass_16: pass{ down = 1; pos = pos + 16 } -> NextPlay
				3_4th_pass_20: pass{ down = 1; pos = pos + 20 } -> NextPlay
			}
			3_4th_punt: punt{down = 5;} -> NextPlay // Game over
			3_4th_fieldgoal: fieldgoal{down = 5;} -> NextPlay // Game over
			3_4th_turnover: turnover{down = 5;} -> NextPlay // Game over
		}
		zone == 4: pcase {
			4_4th_run: pcase {
				4_4th_run_0: run{ down++; pos = pos + 0 } -> NextPlay
				4_4th_run_4: run{ down++; pos = pos + 4 } -> NextPlay
				4_4th_run_8: run{ down++; pos = pos + 8 } -> NextPlay
				4_4th_run_12: run{ down = 1; pos = pos + 12 } -> NextPlay
				4_4th_run_16: run{ down = 1; pos = pos + 16 } -> NextPlay
				4_4th_run_20: run{ down = 1; pos = pos + 20 } -> NextPlay
			}
			4_4th_pass: pcase {
				4_4th_pass_0: pass{ down++; pos = pos + 0 } -> NextPlay
				4_4th_pass_4: pass{ down++; pos = pos + 4 } -> NextPlay
				4_4th_pass_8: pass{ down++; pos = pos + 8 } -> NextPlay
				4_4th_pass_12: pass{ down = 1; pos = pos + 12 } -> NextPlay
				4_4th_pass_16: pass{ down = 1; pos = pos + 16 } -> NextPlay
				4_4th_pass_20: pass{ down = 1; pos = pos + 20 } -> NextPlay
			}
			4_4th_punt: punt{down = 5;} -> NextPlay // Game over
			4_4th_fieldgoal: fieldgoal{down = 5;} -> NextPlay // Game over
			4_4th_turnover: turnover{down = 5;} -> NextPlay // Game over
		}
	}
}
# assert NextPlay deadlockfree;
# assert NextPlay reaches SCORE_FIELDGOAL with prob;
# assert NextPlay reaches SCORE_TOUCHDOWN with prob;
